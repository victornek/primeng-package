{"version":3,"file":"primeng-listbox.js","sources":["../../src/app/components/listbox/listbox.ts","../../src/app/components/listbox/primeng-listbox.ts"],"sourcesContent":["import { NgModule, Component, ElementRef, Input, Output, EventEmitter, AfterContentInit, ContentChildren, ContentChild, QueryList, TemplateRef,forwardRef, ChangeDetectorRef, ViewChild, ChangeDetectionStrategy, ViewEncapsulation } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SelectItem } from 'primeng/api';\r\nimport { SharedModule, PrimeTemplate, Footer, Header } from 'primeng/api';\r\nimport { DomHandler } from 'primeng/dom';\r\nimport { ObjectUtils } from 'primeng/utils';\r\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\r\nimport { FilterUtils } from 'primeng/utils';\r\nimport { RippleModule } from 'primeng/ripple';  \r\n\r\nexport const LISTBOX_VALUE_ACCESSOR: any = {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => Listbox),\r\n    multi: true\r\n};\r\n\r\n@Component({\r\n    selector: 'p-listbox',\r\n    template: `\r\n    <div [ngClass]=\"{'p-listbox p-component': true, 'p-disabled': disabled}\" [ngStyle]=\"style\" [class]=\"styleClass\">\r\n      <div class=\"p-listbox-header\" *ngIf=\"headerFacet || headerTemplate\">\r\n        <ng-content select=\"p-header\"></ng-content>\r\n        <ng-container *ngTemplateOutlet=\"headerTemplate\"></ng-container>\r\n      </div>\r\n      <div class=\"p-listbox-header\" *ngIf=\"(checkbox && multiple && showToggleAll) || filter\">\r\n        <div class=\"p-checkbox p-component\" *ngIf=\"checkbox && multiple && showToggleAll\" [ngClass]=\"{'p-checkbox-disabled': disabled}\">\r\n          <div class=\"p-hidden-accessible\">\r\n            <input type=\"checkbox\" readonly=\"readonly\" [checked]=\"allChecked\" (focus)=\"onHeaderCheckboxFocus()\" (blur)=\"onHeaderCheckboxBlur()\" (keydown.space)=\"toggleAll($event)\" [attr.disabled]=\"disabled\">\r\n          </div>\r\n          <div #headerchkbox class=\"p-checkbox-box\" [ngClass]=\"{'p-highlight': allChecked, 'p-focus': headerCheckboxFocus}\" (click)=\"toggleAll($event)\">\r\n            <span class=\"p-checkbox-icon\" [ngClass]=\"{'pi pi-check':allChecked}\"></span>\r\n          </div>\r\n        </div>\r\n        <div class=\"p-listbox-filter-container\" *ngIf=\"filter\">\r\n          <input type=\"text\" [value]=\"filterValue||''\" (input)=\"onFilter($event)\" class=\"p-listbox-filter p-inputtext p-component\" [disabled]=\"disabled\" [attr.placeholder]=\"filterPlaceHolder\" [attr.aria-label]=\"ariaFilterLabel\">\r\n          <span class=\"p-listbox-filter-icon pi pi-search\"></span>\r\n        </div>\r\n      </div>\r\n      <div [ngClass]=\"'p-listbox-list-wrapper'\" [ngStyle]=\"listStyle\" [class]=\"listStyleClass\">\r\n        <ul class=\"p-listbox-list\" role=\"listbox\" aria-multiselectable=\"multiple\">\r\n          <li *ngFor=\"let option of options; let i = index;\" [style.display]=\"isItemVisible(option) ? 'flex' : 'none'\" [attr.tabindex]=\"disabled || option.disabled ? null : '0'\" pRipple\r\n              [ngClass]=\"{'p-listbox-item':true,'p-highlight':isSelected(option), 'p-disabled': option.disabled}\" role=\"option\" [attr.aria-label]=\"option.label\"\r\n              [attr.aria-selected]=\"isSelected(option)\" (click)=\"onOptionClick($event,option)\" (dblclick)=\"onOptionDoubleClick($event,option)\" (touchend)=\"onOptionTouchEnd($event,option)\" (keydown)=\"onOptionKeyDown($event,option)\">\r\n            <div class=\"p-checkbox p-component\" *ngIf=\"checkbox && multiple\" [ngClass]=\"{'p-checkbox-disabled': disabled || option.disabled}\">\r\n              <div class=\"p-checkbox-box\" [ngClass]=\"{'p-highlight':isSelected(option)}\">\r\n                <span class=\"p-checkbox-icon\" [ngClass]=\"{'pi pi-check':isSelected(option)}\"></span>\r\n              </div>\r\n            </div>\r\n            <span *ngIf=\"!itemTemplate\">{{option.label}}</span>\r\n            <ng-container *ngTemplateOutlet=\"itemTemplate; context: {$implicit: option, index: i}\"></ng-container>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"p-listbox-footer\" *ngIf=\"footerFacet || footerTemplate\">\r\n        <ng-content select=\"p-footer\"></ng-content>\r\n        <ng-container *ngTemplateOutlet=\"footerTemplate\"></ng-container>\r\n      </div>\r\n    </div>\r\n  `,\r\n    providers: [LISTBOX_VALUE_ACCESSOR],\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n    encapsulation: ViewEncapsulation.None,\r\n    styleUrls: ['./listbox.css']\r\n})\r\nexport class Listbox implements AfterContentInit, ControlValueAccessor {\r\n\r\n    @Input() multiple: boolean;\r\n\r\n    @Input() style: any;\r\n\r\n    @Input() styleClass: string;\r\n\r\n    @Input() listStyle: any;\r\n\r\n    @Input() listStyleClass: string;\r\n\r\n    @Input() readonly: boolean;\r\n\r\n    @Input() disabled: boolean;\r\n\r\n    @Input() checkbox: boolean = false;\r\n\r\n    @Input() filter: boolean = false;\r\n\r\n    @Input() filterMode: string = 'contains';\r\n\r\n    @Input() filterLocale: string;\r\n\r\n    @Input() metaKeySelection: boolean = true;\r\n\r\n    @Input() dataKey: string;\r\n\r\n    @Input() showToggleAll: boolean = true;\r\n\r\n    @Input() optionLabel: string;\r\n\r\n    @Input() ariaFilterLabel: string;\r\n\r\n    @Input() filterPlaceHolder: string;\r\n\r\n    @Output() onChange: EventEmitter<any> = new EventEmitter();\r\n\r\n    @Output() onClick: EventEmitter<any> = new EventEmitter();\r\n\r\n    @Output() onDblClick: EventEmitter<any> = new EventEmitter();\r\n\r\n    @ViewChild('headerchkbox') headerCheckboxViewChild: ElementRef;\r\n\r\n    @ContentChild(Header) headerFacet;\r\n\r\n    @ContentChild(Footer) footerFacet;\r\n\r\n    @ContentChildren(PrimeTemplate) templates: QueryList<any>;\r\n\r\n    public itemTemplate: TemplateRef<any>;\r\n\r\n    public headerTemplate: TemplateRef<any>;\r\n\r\n    public footerTemplate: TemplateRef<any>;\r\n\r\n    public _filterValue: string;\r\n\r\n    public filtered: boolean;\r\n\r\n    public value: any;\r\n\r\n    public onModelChange: Function = () => { };\r\n\r\n    public onModelTouched: Function = () => { };\r\n\r\n    public optionTouched: boolean;\r\n\r\n    public focus: boolean;\r\n\r\n    public _options: any[];\r\n\r\n    public headerCheckboxFocus: boolean;\r\n\r\n    public disabledSelectedOptions: SelectItem[] = [];\r\n\r\n    constructor(public el: ElementRef, public cd: ChangeDetectorRef) { }\r\n\r\n    @Input() get options(): any[] {\r\n        return this._options;\r\n    }\r\n\r\n    set options(val: any[]) {\r\n        let opts = this.optionLabel ? ObjectUtils.generateSelectItems(val, this.optionLabel) : val;\r\n        this._options = opts;\r\n    }\r\n\r\n    @Input() get filterValue(): string {\r\n        return this._filterValue;\r\n    }\r\n\r\n    set filterValue(val: string) {\r\n        this._filterValue = val;\r\n    }\r\n\r\n    ngAfterContentInit() {\r\n        this.templates.forEach((item) => {\r\n            switch (item.getType()) {\r\n                case 'item':\r\n                    this.itemTemplate = item.template;\r\n                break;\r\n\r\n                case 'header':\r\n                    this.headerTemplate = item.template;\r\n                break;\r\n\r\n                case 'footer':\r\n                    this.footerTemplate = item.template;\r\n                break;\r\n\r\n                default:\r\n                    this.itemTemplate = item.template;\r\n                break;\r\n            }\r\n        });\r\n    }\r\n\r\n    writeValue(value: any): void {\r\n        this.value = value;\r\n        this.setDisabledSelectedOptions();\r\n        this.cd.markForCheck();\r\n    }\r\n\r\n    registerOnChange(fn: Function): void {\r\n        this.onModelChange = fn;\r\n    }\r\n\r\n    registerOnTouched(fn: Function): void {\r\n        this.onModelTouched = fn;\r\n    }\r\n\r\n    setDisabledState(val: boolean): void {\r\n        this.disabled = val;\r\n        this.cd.markForCheck();\r\n    }\r\n\r\n    onOptionClick(event, option) {\r\n        if (this.disabled || option.disabled || this.readonly) {\r\n            return;\r\n        }\r\n\r\n        if (this.multiple) {\r\n            if (this.checkbox)\r\n                this.onOptionClickCheckbox(event, option);\r\n            else\r\n                this.onOptionClickMultiple(event, option);\r\n        }\r\n        else {\r\n            this.onOptionClickSingle(event, option);\r\n        }\r\n        this.onClick.emit({\r\n            originalEvent: event,\r\n            option: option,\r\n            value: this.value\r\n        });\r\n        this.optionTouched = false;\r\n    }\r\n\r\n    onOptionTouchEnd(event, option) {\r\n        if (this.disabled || option.disabled || this.readonly) {\r\n            return;\r\n        }\r\n\r\n        this.optionTouched = true;\r\n    }\r\n\r\n    onOptionDoubleClick(event: Event, option: SelectItem): any {\r\n        if (this.disabled || option.disabled || this.readonly) {\r\n            return;\r\n        }\r\n\r\n        this.onDblClick.emit({\r\n            originalEvent: event,\r\n            option: option,\r\n            value: this.value\r\n        })\r\n    }\r\n\r\n    onOptionClickSingle(event, option) {\r\n        let selected = this.isSelected(option);\r\n        let valueChanged = false;\r\n        let metaSelection = this.optionTouched ? false : this.metaKeySelection;\r\n\r\n        if (metaSelection) {\r\n            let metaKey = (event.metaKey || event.ctrlKey);\r\n\r\n            if (selected) {\r\n                if (metaKey) {\r\n                    this.value = null;\r\n                    valueChanged = true;\r\n                }\r\n            }\r\n            else {\r\n                this.value = option.value;\r\n                valueChanged = true;\r\n            }\r\n        }\r\n        else {\r\n            this.value = selected ? null : option.value;\r\n            valueChanged = true;\r\n        }\r\n\r\n        if (valueChanged) {\r\n            this.onModelChange(this.value);\r\n            this.onChange.emit({\r\n                originalEvent: event,\r\n                value: this.value\r\n            });\r\n        }\r\n    }\r\n\r\n    onOptionClickMultiple(event, option) {\r\n        let selected = this.isSelected(option);\r\n        let valueChanged = false;\r\n        let metaSelection = this.optionTouched ? false : this.metaKeySelection;\r\n\r\n        if (metaSelection) {\r\n            let metaKey = (event.metaKey || event.ctrlKey);\r\n\r\n            if (selected) {\r\n                if (metaKey) {\r\n                    this.removeOption(option);\r\n                }\r\n                else {\r\n                    this.value = [option.value];\r\n                }\r\n                valueChanged = true;\r\n            }\r\n            else {\r\n                this.value = (metaKey) ? this.value || [] : [];\r\n                this.value = [...this.value, option.value];\r\n                valueChanged = true;\r\n            }\r\n        }\r\n        else {\r\n            if (selected) {\r\n                this.removeOption(option);\r\n            }\r\n            else {\r\n                this.value = [...this.value || [], option.value];\r\n            }\r\n\r\n            valueChanged = true;\r\n        }\r\n\r\n        if (valueChanged) {\r\n            this.onModelChange(this.value);\r\n            this.onChange.emit({\r\n                originalEvent: event,\r\n                value: this.value\r\n            });\r\n        }\r\n    }\r\n\r\n    onOptionClickCheckbox(event, option) {\r\n        if (this.disabled || this.readonly) {\r\n            return;\r\n        }\r\n\r\n        let selected = this.isSelected(option);\r\n\r\n        if (selected) {\r\n            this.removeOption(option);\r\n        }\r\n        else {\r\n            this.value = this.value ? this.value : [];\r\n            this.value = [...this.value, option.value];\r\n        }\r\n\r\n        this.onModelChange(this.value);\r\n        this.onChange.emit({\r\n            originalEvent: event,\r\n            value: this.value\r\n        });\r\n    }\r\n\r\n    removeOption(option: any): void {\r\n        this.value = this.value.filter(val => !ObjectUtils.equals(val, option.value, this.dataKey));\r\n    }\r\n\r\n    isSelected(option: SelectItem) {\r\n        let selected = false;\r\n\r\n        if (this.multiple) {\r\n            if (this.value) {\r\n                for (let val of this.value) {\r\n                    if (ObjectUtils.equals(val, option.value, this.dataKey)) {\r\n                        selected = true;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            selected = ObjectUtils.equals(this.value, option.value, this.dataKey);\r\n        }\r\n\r\n        return selected;\r\n    }\r\n\r\n    get allChecked(): boolean {\r\n        if (this.filterValue) {\r\n            return this.allFilteredSelected();\r\n        }\r\n        else {\r\n            let optionCount = this.getEnabledOptionCount();\r\n            let disabledSelectedOptionCount = this.disabledSelectedOptions.length;\r\n\r\n            return this.value && this.options && (this.value.length > 0 && this.value.length == optionCount + disabledSelectedOptionCount);\r\n        }\r\n    }\r\n\r\n    getEnabledOptionCount(): number {\r\n        if (this.options) {\r\n            let count = 0;\r\n            for (let opt of this.options) {\r\n                if (!opt.disabled) {\r\n                    count++;\r\n                }\r\n            }\r\n\r\n            return count;\r\n        }\r\n        else {\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    allFilteredSelected(): boolean {\r\n        let allSelected: boolean;\r\n        let options = this.filterValue ? this.getFilteredOptions() : this.options;\r\n\r\n        if (this.value && options && options.length) Â {\r\n            allSelected = true;\r\n            for (let opt of this.options) {\r\n                if (this.isItemVisible(opt)) {\r\n                    if (!this.isSelected(opt)) {\r\n                        allSelected = false;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return allSelected;\r\n    }\r\n\r\n    onFilter(event) {\r\n        this._filterValue = event.target.value;\r\n    }\r\n\r\n    toggleAll(event) {\r\n        if (this.disabled || this.readonly || !this.options || this.options.length === 0) {\r\n            return;\r\n        }\r\n\r\n        if (this.allChecked) {\r\n            if (this.disabledSelectedOptions && this.disabledSelectedOptions.length > 0) {\r\n                let value = [];\r\n                value = [...this.disabledSelectedOptions];\r\n                this.value = value;\r\n            }\r\n            else {\r\n                this.value = [];\r\n            }\r\n        }\r\n        else {\r\n            if (this.options) {\r\n                this.value = [];\r\n                if (this.disabledSelectedOptions && this.disabledSelectedOptions.length > 0) {\r\n                    this.value = [...this.disabledSelectedOptions];\r\n                }\r\n\r\n                for (let i = 0; i < this.options.length; i++) {\r\n                    let opt = this.options[i];\r\n                    if (this.isItemVisible(opt) && !opt.disabled) {\r\n                        this.value.push(opt.value);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        this.onModelChange(this.value);\r\n        this.onChange.emit({ originalEvent: event, value: this.value });\r\n        event.preventDefault();\r\n    }\r\n\r\n    isItemVisible(option: SelectItem): boolean {\r\n        if (this.filterValue) {\r\n            let visible;\r\n\r\n            if (this.filterMode) {\r\n                visible = FilterUtils[this.filterMode](option.label, this.filterValue, this.filterLocale);\r\n            }\r\n            else {\r\n                visible = true;\r\n            }\r\n\r\n            return visible;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    onOptionKeyDown(event:KeyboardEvent, option) {\r\n        if (this.readonly) {\r\n            return;\r\n        }\r\n\r\n        let item = <HTMLLIElement> event.currentTarget;\r\n\r\n        switch(event.which) {\r\n            //down\r\n            case 40:\r\n                var nextItem = this.findNextItem(item);\r\n                if (nextItem) {\r\n                    nextItem.focus();\r\n                }\r\n\r\n                event.preventDefault();\r\n            break;\r\n\r\n            //up\r\n            case 38:\r\n                var prevItem = this.findPrevItem(item);\r\n                if (prevItem) {\r\n                    prevItem.focus();\r\n                }\r\n\r\n                event.preventDefault();\r\n            break;\r\n\r\n            //enter\r\n            case 13:\r\n                this.onOptionClick(event, option);\r\n                event.preventDefault();\r\n            break;\r\n        }\r\n    }\r\n\r\n    findNextItem(item) {\r\n        let nextItem = item.nextElementSibling;\r\n\r\n        if (nextItem)\r\n            return DomHandler.hasClass(nextItem, 'p-disabled') || DomHandler.isHidden(nextItem) ? this.findNextItem(nextItem) : nextItem;\r\n        else\r\n            return null;\r\n    }\r\n\r\n    findPrevItem(item) {\r\n        let prevItem = item.previousElementSibling;\r\n\r\n        if (prevItem)\r\n            return DomHandler.hasClass(prevItem, 'p-disabled') || DomHandler.isHidden(prevItem) ? this.findPrevItem(prevItem) : prevItem;\r\n        else\r\n            return null;\r\n    }\r\n\r\n    getFilteredOptions() {\r\n        let filteredOptions = [];\r\n        if (this.filterValue) {\r\n            for (let i = 0; i < this.options.length; i++) {\r\n                let opt = this.options[i];\r\n                if (this.isItemVisible(opt) && !opt.disabled) {\r\n                    filteredOptions.push(opt);\r\n                }\r\n            }\r\n            return filteredOptions;\r\n        }\r\n        else {\r\n            return this.options;\r\n        }\r\n    }\r\n\r\n    onHeaderCheckboxFocus() {\r\n        this.headerCheckboxFocus = true;\r\n    }\r\n\r\n    onHeaderCheckboxBlur() {\r\n        this.headerCheckboxFocus = false;\r\n    }\r\n\r\n    setDisabledSelectedOptions(){\r\n        if (this.options) {\r\n            this.disabledSelectedOptions = [];\r\n            if (this.value) {\r\n                for (let opt of this.options) {\r\n                    if (opt.disabled && this.isSelected(opt)) {\r\n                        this.disabledSelectedOptions.push(opt.value);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n@NgModule({\r\n    imports: [CommonModule, SharedModule, RippleModule],\r\n    exports: [Listbox, SharedModule],\r\n    declarations: [Listbox]\r\n})\r\nexport class ListboxModule { }\r\n\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":"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"}