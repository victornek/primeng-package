{"version":3,"sources":["../../src/app/components/tooltip/tooltip.ts"],"names":["Tooltip","el","zone","this","tooltipPosition","tooltipEvent","appendTo","tooltipZIndex","escape","Object","defineProperty","prototype","_disabled","val","deactivate","ngAfterViewInit","_this","runOutsideAngular","mouseEnterListener","onMouseEnter","bind","mouseLeaveListener","onMouseLeave","clickListener","onClick","nativeElement","addEventListener","focusListener","onFocus","blurListener","onBlur","e","container","showTimeout","activate","active","clearHideTimeout","showDelay","setTimeout","show","life","duration","hideTimeout","hide","clearShowTimeout","hideDelay","_text","text","offsetParent","updateText","align","create","remove","document","createElement","tooltipArrow","className","appendChild","tooltipText","positionStyle","style","position","body","DomHandler","display","disabled","fadeIn","zIndex","zindex","bindDocumentResizeListener","bindScrollListener","innerHTML","createTextNode","alignTop","isOutOfBounds","alignBottom","alignRight","alignLeft","getHostOffset","offset","getBoundingClientRect","left","getWindowScrollLeft","top","getWindowScrollTop","preAlign","hostOffset","getOuterWidth","getOuterHeight","defaultClassName","tooltipStyleClass","targetTop","targetLeft","width","height","viewport","getViewport","onWindowResize","resizeListener","window","unbindDocumentResizeListener","removeEventListener","scrollHandler","ConnectedOverlayScrollHandler","unbindScrollListener","unbindEvents","parentElement","removeChild","clearTimeouts","clearTimeout","ngOnDestroy","destroy","Directive","args","selector","ElementRef","NgZone","Input","NgModule","imports","CommonModule","exports","declarations"],"mappings":"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","sourcesContent":["import { NgModule, Directive, ElementRef, AfterViewInit, OnDestroy, Input, NgZone } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DomHandler, ConnectedOverlayScrollHandler } from 'primeng/dom';\r\n\r\n@Directive({\r\n    selector: '[pTooltip]'\r\n})\r\nexport class Tooltip implements AfterViewInit, OnDestroy {\r\n\r\n    @Input() tooltipPosition: string = 'right';\r\n\r\n    @Input() tooltipEvent: string = 'hover';\r\n\r\n    @Input() appendTo: any = 'body';\r\n\r\n    @Input() positionStyle: string;\r\n\r\n    @Input() tooltipStyleClass: string;\r\n\r\n    @Input() tooltipZIndex: string = 'auto';\r\n\r\n    @Input() escape: boolean = true;\r\n\r\n    @Input() showDelay: number;\r\n\r\n    @Input() hideDelay: number;\r\n\r\n    @Input() life: number;\r\n\r\n    @Input(\"tooltipDisabled\") get disabled(): boolean {\r\n        return this._disabled;\r\n    }\r\n    set disabled(val:boolean) {\r\n        this._disabled = val;\r\n        this.deactivate();\r\n    }\r\n\r\n    _disabled: boolean;\r\n\r\n    container: any;\r\n\r\n    styleClass: string;\r\n\r\n    tooltipText: any;\r\n\r\n    showTimeout: any;\r\n\r\n    hideTimeout: any;\r\n\r\n    active: boolean;\r\n\r\n    _text: string;\r\n\r\n    mouseEnterListener: Function;\r\n\r\n    mouseLeaveListener: Function;\r\n\r\n    clickListener: Function;\r\n\r\n    focusListener: Function;\r\n\r\n    blurListener: Function;\r\n\r\n    scrollHandler: any;\r\n\r\n    resizeListener: any;\r\n\r\n    constructor(public el: ElementRef, public zone: NgZone) { }\r\n\r\n    ngAfterViewInit() {\r\n        this.zone.runOutsideAngular(() => {\r\n            if (this.tooltipEvent === 'hover') {\r\n                this.mouseEnterListener = this.onMouseEnter.bind(this);\r\n                this.mouseLeaveListener = this.onMouseLeave.bind(this);\r\n                this.clickListener = this.onClick.bind(this);\r\n                this.el.nativeElement.addEventListener('mouseenter', this.mouseEnterListener);\r\n                this.el.nativeElement.addEventListener('mouseleave', this.mouseLeaveListener);\r\n                this.el.nativeElement.addEventListener('click', this.clickListener);\r\n            }\r\n            else if (this.tooltipEvent === 'focus') {\r\n                this.focusListener = this.onFocus.bind(this);\r\n                this.blurListener = this.onBlur.bind(this);\r\n                this.el.nativeElement.addEventListener('focus', this.focusListener);\r\n                this.el.nativeElement.addEventListener('blur', this.blurListener);\r\n            }\r\n        });\r\n    }\r\n\r\n    onMouseEnter(e: Event) {\r\n        if (!this.container && !this.showTimeout) {\r\n            this.activate();\r\n        }\r\n    }\r\n\r\n    onMouseLeave(e: Event) {\r\n        this.deactivate();\r\n    }\r\n\r\n    onFocus(e: Event) {\r\n        this.activate();\r\n    }\r\n\r\n    onBlur(e: Event) {\r\n        this.deactivate();\r\n    }\r\n\r\n    onClick(e: Event) {\r\n        this.deactivate();\r\n    }\r\n\r\n    activate() {\r\n        this.active = true;\r\n        this.clearHideTimeout();\r\n\r\n        if (this.showDelay)\r\n            this.showTimeout = setTimeout(() => { this.show() }, this.showDelay);\r\n        else\r\n            this.show();\r\n\r\n        if (this.life) {\r\n            let duration = this.showDelay ? this.life + this.showDelay : this.life;\r\n            this.hideTimeout = setTimeout(() => { this.hide() }, duration);\r\n        }\r\n    }\r\n\r\n    deactivate() {\r\n        this.active = false;\r\n        this.clearShowTimeout();\r\n\r\n        if (this.hideDelay) {\r\n            this.clearHideTimeout();    //life timeout\r\n            this.hideTimeout = setTimeout(() => { this.hide() }, this.hideDelay);\r\n        }\r\n        else {\r\n            this.hide();\r\n        }\r\n    }\r\n\r\n    get text(): string {\r\n        return this._text;\r\n    }\r\n\r\n    @Input('pTooltip') set text(text: string) {\r\n        this._text = text;\r\n        if (this.active) {\r\n            if (this._text) {\r\n                if (this.container && this.container.offsetParent) {\r\n                    this.updateText();\r\n\t\t\t\t\tthis.align();\r\n\t\t\t\t}\r\n                else {\r\n                    this.show();\r\n                }\r\n            }\r\n            else {\r\n                this.hide();\r\n            }\r\n        }\r\n    }\r\n\r\n    create() {\r\n        if (this.container) {\r\n            this.clearHideTimeout();\r\n            this.remove();\r\n        }\r\n\r\n        this.container = document.createElement('div');\r\n\r\n        let tooltipArrow = document.createElement('div');\r\n        tooltipArrow.className = 'p-tooltip-arrow';\r\n        this.container.appendChild(tooltipArrow);\r\n\r\n        this.tooltipText = document.createElement('div');\r\n        this.tooltipText.className = 'p-tooltip-text';\r\n\r\n        this.updateText();\r\n\r\n        if (this.positionStyle) {\r\n            this.container.style.position = this.positionStyle;\r\n        }\r\n\r\n        this.container.appendChild(this.tooltipText);\r\n\r\n        if (this.appendTo === 'body')\r\n            document.body.appendChild(this.container);\r\n        else if (this.appendTo === 'target')\r\n            DomHandler.appendChild(this.container, this.el.nativeElement);\r\n        else\r\n            DomHandler.appendChild(this.container, this.appendTo);\r\n\r\n        this.container.style.display = 'inline-block';\r\n    }\r\n\r\n    show() {\r\n        if (!this.text || this.disabled) {\r\n            return;\r\n        }\r\n\r\n        this.create();\r\n        this.align();\r\n        DomHandler.fadeIn(this.container, 250);\r\n\r\n        if (this.tooltipZIndex === 'auto')\r\n            this.container.style.zIndex = ++DomHandler.zindex;\r\n        else\r\n            this.container.style.zIndex = this.tooltipZIndex;\r\n\r\n        this.bindDocumentResizeListener();\r\n        this.bindScrollListener();\r\n    }\r\n\r\n    hide() {\r\n        this.remove();\r\n    }\r\n\r\n    updateText() {\r\n        if (this.escape) {\r\n            this.tooltipText.innerHTML = '';\r\n            this.tooltipText.appendChild(document.createTextNode(this._text));\r\n        }\r\n        else {\r\n            this.tooltipText.innerHTML = this._text;\r\n        }\r\n    }\r\n\r\n    align() {\r\n        let position = this.tooltipPosition;\r\n\r\n        switch (position) {\r\n            case 'top':\r\n                this.alignTop();\r\n                if (this.isOutOfBounds()) {\r\n                    this.alignBottom();\r\n                    if (this.isOutOfBounds()) {\r\n                        this.alignRight();\r\n\r\n                        if (this.isOutOfBounds()) {\r\n                            this.alignLeft();\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n\r\n            case 'bottom':\r\n                this.alignBottom();\r\n                if (this.isOutOfBounds()) {\r\n                    this.alignTop();\r\n                    if (this.isOutOfBounds()) {\r\n                        this.alignRight();\r\n\r\n                        if (this.isOutOfBounds()) {\r\n                            this.alignLeft();\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n\r\n            case 'left':\r\n                this.alignLeft();\r\n                if (this.isOutOfBounds()) {\r\n                    this.alignRight();\r\n\r\n                    if (this.isOutOfBounds()) {\r\n                        this.alignTop();\r\n\r\n                        if (this.isOutOfBounds()) {\r\n                            this.alignBottom();\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n\r\n            case 'right':\r\n                this.alignRight();\r\n                if (this.isOutOfBounds()) {\r\n                    this.alignLeft();\r\n\r\n                    if (this.isOutOfBounds()) {\r\n                        this.alignTop();\r\n\r\n                        if (this.isOutOfBounds()) {\r\n                            this.alignBottom();\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\n    getHostOffset() {\r\n        if (this.appendTo === 'body' || this.appendTo === 'target') {\r\n            let offset = this.el.nativeElement.getBoundingClientRect();\r\n            let targetLeft = offset.left + DomHandler.getWindowScrollLeft();\r\n            let targetTop = offset.top + DomHandler.getWindowScrollTop();\r\n\r\n            return { left: targetLeft, top: targetTop };\r\n        }\r\n        else {\r\n            return { left: 0, top: 0 };\r\n        }\r\n    }\r\n\r\n    alignRight() {\r\n        this.preAlign('right');\r\n        let hostOffset = this.getHostOffset();\r\n        let left = hostOffset.left + DomHandler.getOuterWidth(this.el.nativeElement);\r\n        let top = hostOffset.top + (DomHandler.getOuterHeight(this.el.nativeElement) - DomHandler.getOuterHeight(this.container)) / 2;\r\n        this.container.style.left = left + 'px';\r\n        this.container.style.top = top + 'px';\r\n    }\r\n\r\n    alignLeft() {\r\n        this.preAlign('left');\r\n        let hostOffset = this.getHostOffset();\r\n        let left = hostOffset.left - DomHandler.getOuterWidth(this.container);\r\n        let top = hostOffset.top + (DomHandler.getOuterHeight(this.el.nativeElement) - DomHandler.getOuterHeight(this.container)) / 2;\r\n        this.container.style.left = left + 'px';\r\n        this.container.style.top = top + 'px';\r\n    }\r\n\r\n    alignTop() {\r\n        this.preAlign('top');\r\n        let hostOffset = this.getHostOffset();\r\n        let left = hostOffset.left + (DomHandler.getOuterWidth(this.el.nativeElement) - DomHandler.getOuterWidth(this.container)) / 2;\r\n        let top = hostOffset.top - DomHandler.getOuterHeight(this.container);\r\n        this.container.style.left = left + 'px';\r\n        this.container.style.top = top + 'px';\r\n    }\r\n\r\n    alignBottom() {\r\n        this.preAlign('bottom');\r\n        let hostOffset = this.getHostOffset();\r\n        let left = hostOffset.left + (DomHandler.getOuterWidth(this.el.nativeElement) - DomHandler.getOuterWidth(this.container)) / 2;\r\n        let top = hostOffset.top + DomHandler.getOuterHeight(this.el.nativeElement);\r\n        this.container.style.left = left + 'px';\r\n        this.container.style.top = top + 'px';\r\n    }\r\n\r\n    preAlign(position: string) {\r\n        this.container.style.left = -999 + 'px';\r\n        this.container.style.top = -999 + 'px';\r\n\r\n        let defaultClassName = 'p-tooltip p-component p-tooltip-' + position;\r\n        this.container.className = this.tooltipStyleClass ? defaultClassName + ' ' + this.tooltipStyleClass : defaultClassName;\r\n    }\r\n\r\n    isOutOfBounds(): boolean {\r\n        let offset = this.container.getBoundingClientRect();\r\n        let targetTop = offset.top;\r\n        let targetLeft = offset.left;\r\n        let width = DomHandler.getOuterWidth(this.container);\r\n        let height = DomHandler.getOuterHeight(this.container);\r\n        let viewport = DomHandler.getViewport();\r\n\r\n        return (targetLeft + width > viewport.width) || (targetLeft < 0) || (targetTop < 0) || (targetTop + height > viewport.height);\r\n    }\r\n\r\n    onWindowResize(e: Event) {\r\n        this.hide();\r\n    }\r\n\r\n    bindDocumentResizeListener() {\r\n        this.zone.runOutsideAngular(() => {\r\n            this.resizeListener = this.onWindowResize.bind(this);\r\n            window.addEventListener('resize', this.resizeListener);\r\n        });\r\n    }\r\n\r\n    unbindDocumentResizeListener() {\r\n        if (this.resizeListener) {\r\n            window.removeEventListener('resize', this.resizeListener);\r\n            this.resizeListener = null;\r\n        }\r\n    }\r\n\r\n    bindScrollListener() {\r\n        if (!this.scrollHandler) {\r\n            this.scrollHandler = new ConnectedOverlayScrollHandler(this.el.nativeElement, () => {\r\n                if (this.container) {\r\n                    this.hide();\r\n                }\r\n            });\r\n        }\r\n\r\n        this.scrollHandler.bindScrollListener();\r\n    }\r\n\r\n    unbindScrollListener() {\r\n        if (this.scrollHandler) {\r\n            this.scrollHandler.unbindScrollListener();\r\n        }\r\n    }\r\n\r\n    unbindEvents() {\r\n        if (this.tooltipEvent === 'hover') {\r\n            this.el.nativeElement.removeEventListener('mouseenter', this.mouseEnterListener);\r\n            this.el.nativeElement.removeEventListener('mouseleave', this.mouseLeaveListener);\r\n            this.el.nativeElement.removeEventListener('click', this.clickListener);\r\n        }\r\n        else if (this.tooltipEvent === 'focus') {\r\n            this.el.nativeElement.removeEventListener('focus', this.focusListener);\r\n            this.el.nativeElement.removeEventListener('blur', this.blurListener);\r\n        }\r\n\r\n        this.unbindDocumentResizeListener();\r\n    }\r\n\r\n    remove() {\r\n        if (this.container && this.container.parentElement) {\r\n            if (this.appendTo === 'body')\r\n                document.body.removeChild(this.container);\r\n            else if (this.appendTo === 'target')\r\n                this.el.nativeElement.removeChild(this.container);\r\n            else\r\n                DomHandler.removeChild(this.container, this.appendTo);\r\n        }\r\n\r\n        this.unbindDocumentResizeListener();\r\n        this.unbindScrollListener();\r\n        this.clearTimeouts();\r\n        this.container = null;\r\n        this.scrollHandler = null;\r\n    }\r\n\r\n    clearShowTimeout() {\r\n        if (this.showTimeout) {\r\n            clearTimeout(this.showTimeout);\r\n            this.showTimeout = null;\r\n        }\r\n    }\r\n\r\n    clearHideTimeout() {\r\n        if (this.hideTimeout) {\r\n            clearTimeout(this.hideTimeout);\r\n            this.hideTimeout = null;\r\n        }\r\n    }\r\n\r\n    clearTimeouts() {\r\n        this.clearShowTimeout();\r\n        this.clearHideTimeout();\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.unbindEvents();\r\n        this.remove();\r\n\r\n        if (this.scrollHandler) {\r\n            this.scrollHandler.destroy();\r\n            this.scrollHandler = null;\r\n        }\r\n    }\r\n}\r\n\r\n@NgModule({\r\n    imports: [CommonModule],\r\n    exports: [Tooltip],\r\n    declarations: [Tooltip]\r\n})\r\nexport class TooltipModule { }\r\n"]}